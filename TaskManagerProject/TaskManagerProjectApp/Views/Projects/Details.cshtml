@model TaskManagerProject.Domain.Entities.Project

@{
    ViewBag.Title = "Details";
}

<h2 class="page-header">Showing Deatails for Project</h2>

<div class="alert alert-info">
    <dl class="dl-horizontal">
        <dt>
            Customer Name
        </dt>

        <dd>
          @Html.ActionLink(Model.Customer.Name,"Details","Customers",new { id = Model.CustomerId },null)
        </dd>

        <dt>
            Project Name
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.IsActive)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.IsActive)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.DateCreated)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.DateCreated)
        </dd>

    </dl>
</div>

<div class="row">
    <div class="col-xs-12">
        <h3> Tasks Assigned to this project</h3>
    </div>

    @foreach (var task in Model.Tasks)
    {
        <div class="col-md-3">
            
                <div class="well" id="@task.ID" taskStatus="3">
                    <label>Task name:</label><a href="/Tasks/Details/@task.ID" class="pull-right">@task.Name</a><br />

                    <label>Task type:</label><span class="pull-right">@task.Type</span><br />
                    <label>Task Status:</label><span class="pull-right">@task.status</span><br />
                    @if (task.UserId != null)
                {
                        <label>Assigned to:</label><a href="/Users/Edit/@task.UserId" class="pull-right">@task.User.DisplayName</a> <br />

                    }

                    <label>Task description:</label>
                    <br />
                    <span>@task.Description</span><br />
                </div>
           
        </div>
    }
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.ID }, new { @class = "btn btn-warning" }) |
    @Html.ActionLink("Back to List", "Index",null, new { @class = "btn btn-info" }) | 
    @Html.ActionLink("See Dashboard", "TaskDashboard", new { id = Model.ID }, new { @class = "btn btn-success" })
</p>
